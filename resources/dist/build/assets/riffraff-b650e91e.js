function f(s,e,t,a,o,l,c,u){var r=typeof s=="function"?s.options:s;e&&(r.render=e,r.staticRenderFns=t,r._compiled=!0),a&&(r.functional=!0),l&&(r._scopeId="data-v-"+l);var i;if(c?(i=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!n&&typeof __VUE_SSR_CONTEXT__<"u"&&(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(c)},r._ssrRegister=i):o&&(i=u?function(){o.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:o),i)if(r.functional){r._injectStyles=i;var m=r.render;r.render=function(v,_){return i.call(_),m(v,_)}}else{var d=r.beforeCreate;r.beforeCreate=d?[].concat(d,i):[i]}return{exports:s,options:r}}const h={props:{items:Array},methods:{release(s){Statamic.$axios.post(cp_url("alt-design/riffraff/release/"+s)).then(e=>{window.location.reload()}).catch(e=>{})},destroy(s){confirm("Are you sure?")&&Statamic.$axios.delete(cp_url("alt-design/riffraff/"+s)).then(e=>{window.location.reload()}).catch(e=>{})},deleteAll(){confirm("Are you sure? This will delete ALL suspected spam entries.")&&Statamic.$axios.delete(cp_url("alt-design/riffraff/all")).then(s=>{window.location.reload()}).catch(s=>{})}}};var p=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex items-center justify-between"},[t("h1",[e._v("Suspected Spam Form Submissions")]),t("button",{staticClass:"btn text-red-500 mr-2",on:{click:function(a){return e.deleteAll()}}},[e._v("Delete All")])]),e._m(0),t("div",{staticClass:"card overflow-hidden p-0"},[t("table",{staticClass:"data-table",attrs:{"data-size":"sm",tabindex:"0"}},[e._m(1),t("tbody",e._l(e.items,function(a){return t("tr",{key:a.id},[t("td",[e._v(" "+e._s(a.data.name??"Unknown")+" ")]),t("td",[e._v(" "+e._s(a.spam_score)+" / "+e._s(a.threshold)+" ")]),t("td",[e._v(" "+e._s((a.data.message??a.data).slice(0,50)+"...")+" ")]),t("td",[t("a",{staticClass:"text-blue-400 underline",attrs:{href:e.cp_url("forms/"+a.form_slug)}},[e._v(e._s(a.form_slug))])]),t("td",{staticClass:"w-1/8"},[t("div",{staticClass:"flex h-full"},[t("a",{staticClass:"btn text-blue-500 mr-2",attrs:{href:"riffraff/show/"+a.id}},[e._v("View")]),t("button",{staticClass:"btn text-green-500 mr-2",on:{click:function(o){return e.release(a.id)}}},[e._v("Release")]),t("button",{staticClass:"btn text-red-500 mr-2",on:{click:function(o){return e.destroy(a.id)}}},[e._v("Delete")])])])])}),0)])])])},b=[function(){var s=this,e=s._self._c;return e("div",{staticClass:"my-4"},[e("p",[s._v(" Below is a list of form submissions that may be spam. You can choose to "),e("span",{staticClass:"text-green-500"},[s._v("release")]),s._v(" them, allowing them to be treated as valid submissions, or "),e("span",{staticClass:"text-red-500"},[s._v("delete")]),s._v(" them permanently. ")])])},function(){var s=this,e=s._self._c;return e("thead",[e("tr",[e("th",[e("span",[s._v("Form Name")])]),e("th",[e("span",[s._v("Spam Score")])]),e("th",[e("span",[s._v("Preview")])]),e("th",[e("span",[s._v("Form")])]),e("th")])])}],w=f(h,p,b,!1,null,null,null,null);const C=w.exports,g={props:{id:String,item:Array,score:Number,threshold:Number},methods:{back(){window.history.back()},release(s){Statamic.$axios.post(cp_url("alt-design/riffraff/release/"+s)).then(e=>{window.location.href=cp_url("alt-design/riffraff")}).catch(e=>{})},destroy(s){confirm("Are you sure?")&&Statamic.$axios.delete(cp_url("alt-design/riffraff/"+s)).then(e=>{window.location.href=cp_url("alt-design/riffraff")}).catch(e=>{})}}};var S=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Spam Review Form Submission - "+e._s(e.id))]),t("div",{staticClass:"mt-4"},[t("p",[e._v(" This form submission received a score of "),t("span",{class:{"text-red-500":e.score>e.threshold}},[e._v(e._s(e.score)+" / "+e._s(e.threshold))]),e._v(' and may be considered spam based on its content. You can choose to delete it or mark it as a legitimate submission below by choosing to "release" it. ')])]),t("code",[t("div",{staticClass:"text-white bg-black w-full p-4 rounded-md"},[e._v(e._s(e.item))])]),t("div",{staticClass:"flex h-full"},[t("button",{staticClass:"btn text-blue-500 mr-2",on:{click:e.back}},[e._v("Back")]),t("button",{staticClass:"btn text-green-500 mr-2",on:{click:function(a){return e.release(e.id)}}},[e._v("Release")]),t("button",{staticClass:"btn text-red-500 mr-2",on:{click:function(a){return e.destroy(e.id)}}},[e._v("Delete")])])])},$=[],y=f(g,S,$,!1,null,null,null,null);const x=y.exports;Statamic.booting(()=>{Statamic.component("spam-review-index",C),Statamic.component("spam-review-show",x)});
